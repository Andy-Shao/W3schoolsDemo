<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Complex Types</title>
<link rel="stylesheet" href="../../resources/css/note.css"/>
</head>
<body>
<h1>XSD Complex Elements</h1>
<p>A complex element contains other elements and/or attributes.</p>
<h2>What is a Complex Element?</h2>
<p>A complex element is an XML element that contains other elements and/or attributes.</p>
<p>There are four kinds of complex elements:</p>
<ul>
<li>empty elements</li>
<li>elements that contain only other elements</li>
<li>elements that contain only text</li>
<li>elements that contain both other elements and text</li>
</ul>
<p><b>Note</b>: Each of these elements may contain attributes as well!</p>
<h2>Examples of Complex Elements</h2>
<p>A complex XML element, "product", which is empty:</p>
<code><pre>
&lt;product pid="1345"/&gt;
</pre></code>
<p>A complex XML element, "employee", which contains only other elements:</p>
<code><pre>
&lt;employee&gt;
    &lt;firstname&gt;John&lt;/firstname&gt;
    &lt;lastname&gt;Smith&lt;/lastname&gt;
&lt;/empoyee&gt;
</pre></code>
<p>A complex XML element, "food", which contains only text:</p>
<code><pre>
&lt;food type="dessert"&gt;Ice cream&lt;/food&gt;
</pre></code>
<p>A complex XML element, "description", which contains both elements and text:</p>
<code><pre>
&lt;description&gt;
    It happened on &lt;date lang="norwegian"&gt;03.03.99&lt;/date&gt; ....
&lt;/description&gt;
</pre></code>
<h2>How to Define a Complex Element</h2>
<p>Look at this complex XML element, "employee", which contains only other elements:</p>
<p>We can define a complex element in an XML Schema two different ways:</p>
<p>1. The "employee" element can be declared directly by naming the element, like this:</p>
<code><pre>
&lt;xs:element name="employee"&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="firstname" type="xs:string"/&gt;
            &lt;xs:element name="lastname" type="xs:string"/&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
&lt;/xs:element&gt;
</pre></code>
<p>If you use the method described above, only the "employee" element can use the specified 
complex type. Note that the child elements, "firstname" and "lastname", are surrounded by 
the &lt;sequence&gt; indicator. This means that the child elements must appear in the same order 
as they are declared. You will learn more about indicators in the XSD Indicators chapter.</p>
<p>2. The "employee" element can have a type attribute that refers to the name of the complex 
type to use:</p>
<code><pre>
&lt;xs:element name="employee" type="personinfor"/&gt;

&lt;xs:complexType name="personinfo"&gt;
    &lt;xs:sequence&gt;
        &lt;xs:element name="firstname" type="xs:string"/&gt;
        &lt;xs:element name="lastname" type="xs:string"/&gt;
    &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;
</pre></code>
<p>If you use the method described above, several elements can refer to the same complex type,
like this:</p>
<code><pre>
&lt;xs:element name="employee" type="personinfo"/&gt;
&lt;xs:element name="student" type="personinfo"/&gt;
&lt;xs:element name="member" type="personinfo"/&gt;

&lt;xs:complexType name="personinfo"&gt;
    &lt;xs:sequence&gt;
        &lt;xs:element name="firstname" type="xs:string"/&gt;
        &lt;xs:element name="lastname" type="xs:string/&gt;
    &lt;/xs:sequenc&gt;
&lt;/xs:complexType&gt;
</pre></code>
<p>You can also base a complex element on an existing complex element and add some elements,
like this:</p>
<code><pre>
&lt;xs:element name="employee" type="fullpersoninfo"/&gt;

&lt;xs:complexType name="personinfo"&gt;
    &lt;xs:sequence&gt;
        &lt;xs:element name="firstname" type="xs:string"/&gt;
        &lt;xs:element name="lastname" type="xs:string"/&gt;
    &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="fullpersoninfo"&gt;
    &lt;xs:complexContent&gt;
        &lt;xs:extension base="personinfo"&gt;
            &lt;xs:sequence&gt;
                &lt;xs:element name="address" type="xs:string"/&gt;
                &lt;xs:element name="city" type="xs:string"/&gt;
                &lt;xs:element name="country" type="xs:string"/&gt;
            &lt;/xs:sequence&gt;
        &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;
</pre></code>
</body>
</html>
